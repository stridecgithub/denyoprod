<!--
  Generated template for the UnitdetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header style="
    background-color: #00569F;" color="bluedark">


  <button style="background-color: #00569F;float:left;" ion-button menuToggle class="menu-toggle">
      <ion-icon name="menu"></ion-icon>
    </button>

  <ion-title style="    text-align: center;
    margin-top: 10px;" class="page-title">{{pageTitle}}</ion-title>

  <button style="float:left" ion-button (click)="notification()" style="position: absolute;
    right: 0%;
    top: 1%;background: transparent;">
  <ion-icon ios="ios-notifications-outline" md="md-notifications-outline"></ion-icon>
   <ion-badge style="    margin-top: 5px;
    margin-right: 7px;" item-end class="notificationcount" *ngIf="notcount>0">{{this.notcount}}</ion-badge>
</button>

  <!--ion-navbar color="bluedark" hideBackButton>
    <ion-title class="page-title">{{pageTitle}}</ion-title>
    <ion-buttons start>
      <button ion-button menuToggle class="menu-toggle">
      <ion-icon name="menu"></ion-icon>
    </button>
    </ion-buttons>



    <ion-buttons end>
      <button ion-button (click)="notification()">
  <ion-icon ios="ios-notifications-outline" md="md-notifications-outline"></ion-icon>
   <ion-badge item-end class="notificationcount" *ngIf="notcount>0">{{this.notcount}}</ion-badge>
</button>
    </ion-buttons>
  </ion-navbar-->
  <ion-navbar class="backtoprevious-navbar" hideBackButton>
    <ion-buttons start class="backtoprevious-start">
      <button ion-button icon-left class="backtoprevious-button" (click)="previous()">
 <ion-icon name="arrow-back" class="backtoprevious-icon"></ion-icon>
 Back to previous
</button>
    </ion-buttons>
    <ion-buttons end>
      Login As:{{unitDetailData.loginas}}
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="ion-content" *ngIf="networkType!=''">

</ion-content>

<ion-content padding  *ngIf="networkType==''">
  <ion-item>
    <button class="{{unitDetailData.colorcodeindications}}" style="float: left ;width:8px;height:70px">         
        </button>
    <button *ngIf="chk!=''" class="dot" (click)="viewunit()" style="float: right ;width: 30px;
    height: 30px;
    margin-top: 23px;
    margin-left: 0px;
    margin-right: 0px;background-color:#ffffff"></button>
    <button (click)="favoriteaction(unitDetailData.unit_id)" class="{{unitDetailData.favoriteindication}}" style="float: right ;width:30px;height:30px;margin-top:24px;background-color:#ffffff"></button>
    <div style="overflow: hidden; padding-left: 0.5em;padding-top: 4px">
      <h5><b>{{unitDetailData.unitname}}</b></h5>
      <h5>Project Name:{{unitDetailData.projectname}}</h5>
      <h5 style="white-space: normal">Location:{{unitDetailData.location}}</h5>
      <h5 *ngIf="unitDetailData.lat!=''" style="white-space: normal">({{unitDetailData.lat}},{{unitDetailData.lng}})</h5>

    </div>
  </ion-item>



  
  <div>

    <!--button ion-button icon-left (click)="alamInfo()" class="service-info" style="background-color: #C5021B;
    height: 100px;
    width: 100%;">
      	<ion-icon name="ios-warning-outline" style="font-size:32px;padding-bottom: 16px;
    padding-top: 16px;"></ion-icon>
        <span>Alarm</span>
    </button-->

  </div>
  <div [innerHTML]="sanitizer.bypassSecurityTrustHtml(iframeContent)"></div>
  <!--div [innerHTML]="sanitizer.bypassSecurityTrustHtml(iframeContent2)"></div-->


  <ion-item>
    <button ion-button icon-left (click)="alamInfo()" class="service-info" style="background-color: #C5021B;
       width: 100%;">
      	<ion-icon name="ios-warning-outline" style="font-size:32px;padding-bottom: 16px;
    padding-top: 16px;"></ion-icon>
        <span>Alarm</span>
    </button>
  </ion-item>
  <ion-item>

    <button ion-button icon-left class="engine-detail" (click)="enginedetail()" style="padding-bottom: 12px;
    height:45px">
      <div class="btn-align" syle="padding-bottom: 16px;
    height:45px"><span class="eng-icon"></span>Engine Details</div>
    </button>

    <button ion-button icon-left (click)="servicingInfo(unitDetailData.unit_id)" class="service-info" style="padding-bottom: 12px;
    height: 45px;">
      <div class="btn-align"><span class="ser-icon"></span>Servicing Info</div>

       <div class="serviceinfocount"  *ngIf="serviceCount>0"><!--  *ngIf="serviceCount!=0"-->
      {{serviceCount}}
    </div>
    
    </button>







  </ion-item>

  <ion-item>
    <button ion-button icon-left (click)="alarm()" class="alarm-log" style="padding-bottom: 12px;height:45px">
     <div class="btn-align"><span class="ala-icon" ></span>Alarm Log</div>
    </button>

    <button ion-button icon-left (click)="commentsInfo(unitDetailData.unit_id)" class="event-comment" style="height:45px">
     <div class="btn-align"  style="padding-top: 4px;"><span class="eve-icon"></span>Events</div>
     <div class="commentinfocount" *ngIf="commentCount>0">
     {{commentCount}}
    </div>
    </button>



    <!--*ngIf="commentCount!=0"-->
  </ion-item>
</ion-content>


<ion-footer color="bluedark">
  <ion-toolbar color="bluedark">
    <ul class="quick-list">
      <li>
        <button ion-button icon-only clear (click)="redirectToMaps()">
    	<ion-icon name="home" class="footer-icon">MAPS</ion-icon>
    </button>
      </li>
      <li>
        <button ion-button icon-only (click)="redirectToUser()" clear>
    	<ion-icon name="contacts" class="footer-icon">UNITS</ion-icon>
    </button>
      </li>
      <li>
        <button ion-button icon-only (click)="redirectToMessage()" clear>
    	<ion-icon name="chatboxes" class="footer-icon">MESSAGE</ion-icon>
      <ion-badge item-end class="messagecount"  *ngIf="msgcount>0">{{this.msgcount}}</ion-badge>
    </button>
        <ion-badge color="danger"></ion-badge>
      </li>
      <li>
        <button ion-button icon-only (click)="redirectCalendar()" clear>
    	<ion-icon name="bicycle" class="footer-icon">CALENDAR</ion-icon>
    </button>
      </li>
      <li>
        <button style="width:34px;" ion-button icon-only (click)="redirectToSettings()" clear>
    	<ion-icon name="settings" class="footer-icon">ORG</ion-icon>
    </button>
      </li>
    </ul>

  </ion-toolbar>
  <div class="network-error" *ngIf="networkType!=''">{{networkType}}</div>
</ion-footer>